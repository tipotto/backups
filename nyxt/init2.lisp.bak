(defvar *web-keymap* (make-keymap "web-map"))
(defvar *base-keymap* (make-keymap "base-map"))

(define-key *web-keymap*
  "C-n" 'nyxt/web-mode:scroll-down
  "C-p" 'nyxt/web-mode:scroll-up
  "C-f" 'nyxt/web-mode:scroll-right
  "C-b" 'nyxt/web-mode:scroll-left
  "C-s s" 'nyxt/web-mode:search-buffer
  )

(define-key *base-keymap*
  "C-l" 'set-url
  "M-l" 'set-url-new-buffer
  "C-x k" 'delete-buffer
  "C-x o" 'switch-buffer-next
  "C-x C-c" 'quit
  "C-x C-f" 'open-file
  "C-x C-k" 'delete-all-buffers
  "C-c p" 'switch-buffer-next
  "C-c n" 'switch-buffer-previous
  "C-c C-f" 'nyxt/buffer-listing-mode:list-buffers
  "M-x" 'execute-command
  )

(define-mode web-mode ()
  "Mode for custom key bindings in `*web-keymap*'."
  ((keymap-scheme (keymap:make-scheme
                   scheme:cua *web-keymap*
                   scheme:emacs *web-keymap*
                   scheme:vi-normal *web-keymap*))))

(define-mode base-mode ()
  "Mode for custom key bindings in `*base-keymap*'."
  ((keymap-scheme (keymap:make-scheme
                   scheme:cua *base-keymap*
                   scheme:emacs *base-keymap*
                   scheme:vi-normal *base-keymap*))))

(define-configuration (buffer web-buffer)
  ((default-modes (append '(web-mode base-mode) %slot-default%))))
